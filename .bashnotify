#!/usr/local/bin/bash
# ######### #
# Notifying #
# ######### #

# notification "Title" "Line one" "Line two"
notification() {
  if type "growlnotify" > /dev/null; then
    growlnotify -t "$1" -m "$2"$'\n'"$3" --image "/Applications/iTerm.app/Contents/Resources/iTerm.icns"
  else
    echo 'display notification "'$2'\n'$3'" with title "'$1'"' | osascript -e;
  fi
}

# notification to run at terminal session start
welcomeMessage() {
  datecheck=$(date +%H%M | sed 's/^0*//')
  title="Yo, ${USER}"
  message="Do you know what time it is?"
  output="It's $(date +"%H:%Mhrs"),"
  if   (("$datecheck" >= 801  && "$datecheck" <= 1800)); then
    output="$output do something aweseome!"
  elif (("$datecheck" >= 1801 && "$datecheck" <= 2000)); then
    output="$output you should think about going home!"
  elif (("$datecheck" >= 2001 && "$datecheck" <= 2300)); then
    output="$output you should be stopping for the night"
  elif (("$datecheck" >= 2301 || "$datecheck" <= 800 || "$datecheck" == 0));  then
    output="$output GO TO SLEEP!"
  else
    output="$output the time is all wrong, noooo!"
  fi

  notification "$title" "$message" "$output"
}
# welcomeMessage
