#!/usr/bin/env bash

isInSvn() {
  local SVNINFO=()
  SVNINFO+=($(svn status | grep '^M' | wc -l | tr -d '[[:space:]]'))
  SVNINFO+=($(svn info | grep '^URL:' | egrep -o '(tags|branches)/[^/]+|trunk' | egrep -o '[^/]+$'))
  SVNINFO+=($(svn info | grep 'Revision: ' | awk '{print $2}'))

  for I in "${!SVNINFO[@]}"; do
    if [[ "${SVNINFO[$I]}" == *"not a working copy"* ]]; then
      SVNINFO["$I"]=""
    fi
  done

  printf '%s ' "${SVNINFO[@]}"
}
