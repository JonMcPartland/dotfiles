#!/usr/bin/env bash

_tidyUpPath() {
  OLD="$PATH"
  PATH=""
  # Ruby bindirs
  PATH="$PATH:$HOME/.rbenv/bin"
  PATH="$PATH:$HOME/.rbenv/shims"
  # PHP bindirs
  PATH="$PATH:$HOME/.composer/vendor/bin"
  # JS bindirs
  PATH="$PATH:$HOME/.yarn/bin"
  # Misc bindirs
  PATH="$PATH:/usr/local/bin"
  PATH="$PATH:/usr/local/git/bin"
  PATH="$PATH:/usr/local/mysql/bin"
  PATH="$PATH:/opt/X11/bin"
  # Builtin bindirs
  PATH="$PATH:/usr/bin"
  PATH="$PATH:/bin"
  PATH="$PATH:/usr/local/sbin"
  PATH="$PATH:/usr/sbin"
  PATH="$PATH:/sbin"
  PATH="$PATH:$OLD"


  # remove path dupes
  if [[ $PATH ]]; then
    OLD_PATH=$PATH:; PATH=

    while [[ $OLD_PATH ]]; do
      X=${OLD_PATH%%:*}    # the first remaining entry

      case $PATH: in
        *:"$X":*) ;;       # already there
        *) PATH=$PATH:$X;; # not there yet
      esac

      OLD_PATH=${OLD_PATH#*:}
    done

    PATH=${PATH#:}

    unset OLD_PATH X
  fi

  PATH=$(echo "$PATH" | sed 's/^://')

  export PATH="$PATH"
}
