#!/usr/bin/env bash

function _tidyUpPath {
  PATH=""
  PATH="$PATH:/usr/local/opt/gettext/bin"
  PATH="$PATH:/usr/local/opt/php@7.2/bin"
  PATH="$PATH:/usr/local/opt/php@7.2/sbin"
  PATH="$PATH:$HOME/.phpenv/bin"
  PATH="$PATH:$HOME/.phpenv/shims"
  PATH="$PATH:$HOME/.rbenv/bin"
  PATH="$PATH:$HOME/.rbenv/shims"
  PATH="$PATH:$HOME/.composer/vendor/bin"
  PATH="$PATH:$HOME/.yarn/bin"
  PATH="$PATH:$HOME/Library/Python/2.7/bin"
  PATH="$PATH:/usr/local/opt/curl/bin"
  PATH="$PATH:/usr/local/bin"
  PATH="$PATH:/usr/local/git/bin"
  PATH="$PATH:/usr/local/mysql/bin"
  PATH="$PATH:/usr/local/share/dotnet"
  PATH="$PATH:/opt/X11/bin"

  PATH="$PATH:/usr/bin"
  PATH="$PATH:/bin"
  PATH="$PATH:/usr/local/sbin"
  PATH="$PATH:/usr/sbin"
  PATH="$PATH:/sbin"


  # remove path dupes
  if [[ $PATH ]]; then
    OLD_PATH=$PATH:; PATH=

    while [[ $OLD_PATH ]]; do
      X=${OLD_PATH%%:*}    # the first remaining entry

      case $PATH: in
        *:"$X":*) ;;       # already there
        *) PATH=$PATH:$X;; # not there yet
      esac

      OLD_PATH=${OLD_PATH#*:}
    done

    PATH=${PATH#:}

    unset OLD_PATH X
  fi

  # PATH=$(echo "${PATH//^:/}")
  PATH=$(echo "$PATH" | sed 's/^://')

  export PATH="$PATH"
}
