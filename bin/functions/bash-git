#!/usr/local/bin/bash

isInGit() {
  local GITINFO=()

  GITINFO+=($(git rev-parse --is-inside-work-tree 2> /dev/null))
  GITINFO+=($(git symbolic-ref HEAD 2> /dev/null | sed -e 's/refs\/heads\///'))
  GITINFO+=($(git status --porcelain 2> /dev/null | tail -n1))

  for I in "${!GITINFO[@]}"; do
    if [[ "${GITINFO[$I]}" == *"Not a git repository"* ]]; then
      GITINFO["$I"]=""
    fi
  done

  printf '%s ' "${GITINFO[@]}"
}
